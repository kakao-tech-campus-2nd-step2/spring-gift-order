<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>카카오 액세스 토큰 얻기</title>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const tokenElement = document.getElementById("token");
      const emailElement = document.getElementById("email");
      const jwtTokenElement = document.getElementById("jwtToken");
      let accessToken = null;
      let email = null;
      let jwtToken = null;
      if (tokenElement) {
        accessToken = tokenElement.textContent;
      }

      if (emailElement) {
        email = emailElement.textContent;
      }

      if (jwtTokenElement) {
        jwtToken = jwtTokenElement.textContent;
      }

      if (accessToken) {
        localStorage.setItem('accessToken', accessToken);
      }

      if (email) {
        localStorage.setItem('userEmail', email);
      }

      if (jwtToken) {
        localStorage.setItem('authToken', jwtToken);
      }

      const storedToken = localStorage.getItem('accessToken');
      const storedEmail = localStorage.getItem('userEmail');
      const storedJwtToken = localStorage.getItem('authToken');
      if (storedToken) {
        document.getElementById('displayToken').textContent = storedToken;
      }

      if (storedEmail) {
        document.getElementById('displayEmail').textContent = storedEmail;
      }

      if (storedJwtToken) {
        document.getElementById('displayJwtToken').textContent = storedJwtToken;
      }
    });
  </script>
</head>
<body>
<h1>카카오 액세스 토큰 얻기</h1>
<p>액세스 토큰: <span id="displayToken"></span></p>
<p>이메일: <span id="displayEmail"></span></p>
<p>Jwt 토큰: <span id="displayJwtToken"></span></p>
<p id="token" th:text="${accessToken}" style="display: none"></p>
<p id="email" th:text="${email}" style="display: none"></p>
<p id="jwtToken" th:text="${jwtToken}" style="display: none"></p>
<a href="/admin/products">상품 목록으로 이동</a>
</body>
</html>